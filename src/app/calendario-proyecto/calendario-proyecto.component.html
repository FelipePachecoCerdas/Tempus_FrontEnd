<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title> Calendario de Proyecto </ion-title>
  </ion-toolbar>

</ion-header>



<ion-content data-backdrop="false">

  <mat-tab-group #tabs [selectedIndex]="cero">
    <mat-tab label="Calendario">
      <div style="  padding-top: 15px;padding-right: 10px;padding-left: 10px;">

        <ion-grid *ngIf="platform.platforms().includes('tablet')">
          <ion-row class="ion-align-items-center">
            <ion-col></ion-col>
            <ion-col>
              <div class="btn-group">
                <div class="btn btn-cool" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate"
                  (viewDateChange)="closeOpenMonthViewDay()">
                  <ion-icon name="caret-back-outline"></ion-icon>
                </div>
                <div class="btn btn-cool-2" mwlCalendarToday [(viewDate)]="viewDate">
                  Hoy
                </div>
                <div class="btn btn-cool" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate"
                  (viewDateChange)="closeOpenMonthViewDay()">
                  <ion-icon name="caret-forward-outline"></ion-icon>
                </div>

              </div>
            </ion-col>
            <ion-col>
              <h3 style="display:inline-block;">{{ viewDate | calendarDate:(view + 'ViewTitle'):'es' }}</h3>
            </ion-col>
            <ion-col>
              <div class="btn-group">
                <div class="btn btn-cool" (click)="setView(CalendarView.Month)"
                  [class.active]="view === CalendarView.Month">
                  Mes
                </div>
                <div class="btn btn-cool" (click)="setView(CalendarView.Week)"
                  [class.active]="view === CalendarView.Week">
                  Semana
                </div>
                <div class="btn btn-cool" (click)="setView(CalendarView.Day)"
                  [class.active]="view === CalendarView.Day">
                  Día
                </div>
              </div>
            </ion-col>
            <ion-col>

              <div class="btn btn-cool" (click)="abrirPendientes()" *ngIf="tareasSinProcesar != 0"
                style="position: relative;width: 42px;top:1px;right: 1px;overflow: visible!important;">
                <ion-badge id="notifications-badge" color="danger"
                  style="background-color: #ce0f3d;position: absolute;top: -3px;right: -3px;border-radius: 100%;">
                  {{tareasSinProcesar}}
                </ion-badge>
                <ion-icon name="file-tray-full-outline">
                </ion-icon>
              </div>



            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-grid *ngIf="!platform.platforms().includes('tablet')">
          <ion-row class="ion-align-items-center" style="text-align: center;">
            <ion-col>
              <div class="btn-group">
                <div class="btn btn-cool" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate"
                  (viewDateChange)="closeOpenMonthViewDay()">
                  <ion-icon name="caret-back-outline"></ion-icon>
                </div>
                <div class="btn btn-cool-2" mwlCalendarToday [(viewDate)]="viewDate">
                  Hoy
                </div>
                <div class="btn btn-cool" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate"
                  (viewDateChange)="closeOpenMonthViewDay()">
                  <ion-icon name="caret-forward-outline"></ion-icon>
                </div>

              </div>
            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center" style="text-align: center;">
            <ion-col></ion-col>
            <ion-col size="auto">
              <ion-label class="title" style="text-transform: capitalize; align-self: center;">
                {{ viewDate | calendarDate:(view + 'ViewTitle'):'es' }}</ion-label>
            </ion-col>
            <ion-col>
              <div class="btn btn-cool" (click)="abrirPendientes()" *ngIf="tareasSinProcesar != 0"
                style="position: relative;width: 42px;right: 1px;overflow: visible!important; align-self: center;">
                <ion-badge id="notifications-badge" color="danger"
                  style="background-color: #c81912;position: absolute;top: -3px;right: -3px;border-radius: 100%;">
                  {{tareasSinProcesar}}
                </ion-badge>
                <ion-icon name="file-tray-full-outline">
                </ion-icon>
              </div>

            </ion-col>
          </ion-row>

          <ion-row class="ion-align-items-center" style="text-align: center;">
            <ion-col>
              <div class="btn-group">
                <div class="btn btn-cool" (click)="setView(CalendarView.Month)"
                  [class.active]="view === CalendarView.Month">
                  Mes
                </div>
                <div class="btn btn-cool" (click)="setView(CalendarView.Week)"
                  [class.active]="view === CalendarView.Week">
                  Semana
                </div>
                <div class="btn btn-cool" (click)="setView(CalendarView.Day)"
                  [class.active]="view === CalendarView.Day">
                  Día
                </div>
              </div>
            </ion-col>
          </ion-row>

        </ion-grid>


        <br />
        <div [ngSwitch]="view">
          <mwl-calendar-month-view locale="es" *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate"
            [events]="events" [refresh]="refresh" [activeDayIsOpen]="activeDayIsOpen"
            (dayClicked)="dayClicked($event.day)" (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-month-view>
          <mwl-calendar-week-view style="color: white !important;" locale="es" *ngSwitchCase="CalendarView.Week"
            [viewDate]="viewDate" [events]="events" [refresh]="refresh"
            (eventClicked)="handleEvent('Clicked', $event.event)" (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-week-view>
          <mwl-calendar-day-view style="color: white !important;" locale="es" *ngSwitchCase="CalendarView.Day"
            [viewDate]="viewDate" [events]="events" [refresh]="refresh"
            (eventClicked)="handleEvent('Clicked', $event.event)" (eventTimesChanged)="eventTimesChanged($event)">
          </mwl-calendar-day-view>
        </div>

        <br />

        <ng-template #modalContent let-close="close">
          <div class="modal-header">
            <h5 class="modal-title">Event action occurred</h5>
            <button type="button" class="close" (click)="close()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div>
              Action:
              <pre>{{ modalData?.action }}</pre>
            </div>
            <div>
              Event:
              <pre>{{ modalData?.event | json }}</pre>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" (click)="close()">
              OK
            </button>
          </div>
        </ng-template>


        <ng-template #listaPendientesModal let-close="close">
          <div class="modal-header dark-theme" style="background-color: #1a1a1a !important;">
            <ion-label color="primary" class="modal-title" style="display: inline-block;align-self: center;">Tareas
              Automáticas sin Programar</ion-label>
            <ion-button icon-only shape="round" (click)="close()" style="align-self: center;">
              <ion-icon icon-only name="close-circle-outline"></ion-icon>
            </ion-button>
          </div>
          <div class="modal-body dark-theme" style="background-color: #1a1a1a !important;">

            <div>
              <ion-list *ngFor="let tarea of tareasPendientes; index as i" style="background-color: transparent;">
                <ion-card>
                  <ion-card-content class="modal-header">

                    <ion-label class="modal-title" style="align-self: center; color: white;">
                      Tarea No.{{i+1}}: {{tarea.nombre_tarea}}
                    </ion-label>
                    <ion-button slot="icon-only" shape="round" (click)="abrirUpdatePendiente(i)"
                      style="align-self: center;">
                      <ion-icon slot="icon-only" name="search-circle-outline"></ion-icon>
                    </ion-button>

                  </ion-card-content>
                </ion-card>
              </ion-list>
            </div>

          </div>
          <div class="modal-footer dark-theme" style="background-color: #1a1a1a !important;">

            <div style=" text-align: center">
              <ion-button shape="round" (click)=" programarTareas()">Programar Tareas
              </ion-button>
            </div>

          </div>
        </ng-template>

        <ng-template class="siSirve" #updateTareaModal let-close="close">

          <div class="modal-header dark-theme" style="background-color: #1a1a1a !important;">

            <ion-label class="modal-title" color="primary" style="align-self: center;">{{tareaActual_upd.nombre_tarea}}
            </ion-label>
            <ion-button icon-only shape="round" (click)="close()" style="align-self: center;">
              <ion-icon icon-only name="close-circle-outline"></ion-icon>
            </ion-button>

          </div>
          <div class="modal-body dark-theme" style="background-color: #1a1a1a !important;">

            <div>
              <form>
                <ion-card>
                  <ion-list lines="full" class="ion-no-margin ion-no-padding">
                    <ion-item>
                      <ion-label position="floating">Título <ion-text color="danger">*</ion-text>
                      </ion-label>
                      <ion-input required type="text" name="nombre_tarea_upd"
                        [(ngModel)]="tareaActual_upd.nombre_tarea">
                      </ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Descripción </ion-label>
                      <ion-textarea name="descripcion_tarea_upd" [(ngModel)]="tareaActual_upd.descripcion_tarea">
                      </ion-textarea>
                    </ion-item>


                    <ion-item>
                      <ion-label position="floating">Intervalo de Repetición</ion-label>
                      <ion-select class="alertWTF" okText="Aceptar" cancelText="Cancelar"
                        (ionFocus)="updateUpdateModal()" name="tareaActual_upd.repeticion"
                        [(ngModel)]="tareaActual_upd.repeticion">
                        <ion-select-option value="ninguno">Ninguno</ion-select-option>
                        <ion-select-option value="diariamente">Diariamente</ion-select-option>
                        <ion-select-option value="semanalmente">Semanalmente</ion-select-option>
                        <ion-select-option value="mensualmente">Mensualmente</ion-select-option>
                      </ion-select>
                    </ion-item>

                    <ion-item *ngIf="tareaActual_upd.repeticion != 'ninguno'">
                      <ion-label position="floating">Repetir hasta</ion-label>
                      <ion-datetime min="2000" max="2100" [(ngModel)]="repetirHasta_upd" done-text="Listo"
                        cancel-text="Cancelar" dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                        displayFormat="DDD DD MMM YYYY" name="hasta_upd"
                        monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                      </ion-datetime>

                    </ion-item>

                    <ion-item>
                      <ion-label>Notificar</ion-label>
                      <ion-toggle name="notificar__upd" [(ngModel)]="notificar_upd"></ion-toggle>
                    </ion-item>

                    <ion-item *ngIf="notificar_upd">
                      <ion-label position="floating">Modo de Notificación</ion-label>
                      <ion-select okText="Aceptar" cancelText="Cancelar" name="modo_notificar_upd"
                        [(ngModel)]="tareaActual_upd.modo_notificar">
                        <ion-select-option value="correo electronico">Correo Electrónico</ion-select-option>
                        <ion-select-option value="celular">Móvil</ion-select-option>
                        <ion-select-option value="ambos">Ambos</ion-select-option>
                      </ion-select>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Modo de Programación</ion-label>
                      <ion-select okText="Aceptar" cancelText="Cancelar" name="modo_tarea__upd"
                        [(ngModel)]="tareaActual_upd.modo_tarea">
                        <ion-select-option value="automatico">Automático</ion-select-option>
                        <ion-select-option value="manual">Manual</ion-select-option>
                      </ion-select>
                    </ion-item>

                    <ion-item>
                      <ion-button (click)="cambiarModo_upd()">
                        <ion-label>Cambiar Modo</ion-label>
                      </ion-button>
                    </ion-item>

                    <ion-card *ngIf="tareaActual_upd.modo_tarea == 'manual'">
                      <ion-card-header>
                        <ion-label>Nuevo Periodo</ion-label>
                      </ion-card-header>

                      <ion-card-content>
                        <ion-item>
                          <ion-label position="floating">Fecha de inicio</ion-label>
                          <ion-datetime min="2000" max="2100" [(ngModel)]="periodoAct_upd.inicio" done-text="Listo"
                            cancel-text="Cancelar" dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                            displayFormat="DDD DD MMM YYYY" name="hasta_upd"
                            monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                          </ion-datetime>
                        </ion-item>

                        <ion-item>
                          <ion-label position="floating">Hora de inicio</ion-label>
                          <ion-datetime displayFormat="h:mm a" [(ngModel)]="periodoAct_upd.inicio" done-text="Listo"
                            name="desdeT_upd" cancel-text="Cancelar"></ion-datetime>
                        </ion-item>

                        <ion-item>
                          <ion-label position="floating">Fecha de finalización</ion-label>
                          <ion-datetime min="2000" max="2100" [(ngModel)]="periodoAct_upd.final" done-text="Listo"
                            cancel-text="Cancelar" dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                            displayFormat="DDD DD MMM YYYY" name="hasta_upd"
                            monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                          </ion-datetime>
                        </ion-item>

                        <ion-item>
                          <ion-label position="floating">Hora de finalización</ion-label>
                          <ion-datetime displayFormat="h:mm a" [(ngModel)]="periodoAct_upd.final" done-text="Listo"
                            name="hastaT_upd" cancel-text="Cancelar"></ion-datetime>
                        </ion-item>

                        <ion-item *ngIf="notificar_upd">
                          <ion-icon shape="circle" name="notifications-circle-outline"></ion-icon>
                          <ion-input required type="number" name="antNotif_upd" [(ngModel)]="periodoAct_upd.antNotif">
                          </ion-input>
                          <ion-label position="fixed"> minutos antes </ion-label>
                        </ion-item>


                        <ion-button shape="round" (click)="agregarPeriodo_upd()">
                          <ion-icon shape="circle" name="add-outline"></ion-icon>
                          <ion-label> Agregar </ion-label>
                        </ion-button>

                      </ion-card-content>
                    </ion-card>

                    <div *ngIf="tareaActual_upd.modo_tarea == 'manual'">
                      <ion-list *ngFor="let periodo of periodosActuales_upd; index as i">
                        <ion-card>
                          <ion-card-header>
                            <ion-item>
                              <ion-label> Periodo No.{{i+1}} </ion-label>
                              <ion-button shape="round" (click)="borrarPeriodo_upd(i)">
                                <ion-icon shape="circle" slot="icon-only" name="trash-outline"></ion-icon>
                              </ion-button>
                            </ion-item>
                          </ion-card-header>

                          <ion-card-content>
                            <ion-label style="text-transform: capitalize;">
                              Desde: {{periodo.fecha_hora_inicio_original | date:'EEEE d - MMMM, y' }}
                            </ion-label>
                            <br />
                            <ion-label>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              {{periodo.fecha_hora_inicio_original | date:'hh:mm a' }}
                            </ion-label>
                            <br />
                            <ion-label style="text-transform: capitalize;">
                              Hasta: &nbsp;{{periodo.fecha_hora_final_original | date:'EEEE d - MMMM, y' }}
                            </ion-label>
                            <br />
                            <ion-label>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              {{periodo.fecha_hora_final_original | date:'hh:mm a' }}
                            </ion-label>
                            <br />
                            <ion-label *ngIf="notificar">
                              <ion-icon shape="circle" name="notifications-circle-outline"></ion-icon>
                              {{periodo.antelacion_notificacion}} minutos antes
                            </ion-label>

                          </ion-card-content>



                        </ion-card>


                      </ion-list>
                    </div>
                    <ion-card *ngIf="tareaActual_upd.modo_tarea == 'manual' && periodosActuales_upd.length == 0">
                      <ion-item>
                        <ion-label> Sin periodos
                        </ion-label>
                      </ion-item>
                    </ion-card>



                    <ion-card *ngIf="tareaActual_upd.modo_tarea == 'automatico'">
                      <ion-card-header>
                        <ion-label>Modo Automático</ion-label>
                      </ion-card-header>

                      <ion-card-content>


                        <ion-item>
                          <ion-label position="floating">Nivel de Dificultad</ion-label>
                          <ion-select okText="Aceptar" cancelText="Cancelar" name="nivel_dificultad_upd"
                            [(ngModel)]="tareaAutomatica_upd.nivel_dificultad">
                            <ion-select-option value="muy alto">Muy difícil</ion-select-option>
                            <ion-select-option value="alto">Díficil</ion-select-option>
                            <ion-select-option value="medio">Normal</ion-select-option>
                            <ion-select-option value="bajo">Fácil</ion-select-option>
                            <ion-select-option value="muy bajo">Muy fácil</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-item>
                          <ion-label position="floating">Nivel de Prioridad</ion-label>
                          <ion-select okText="Aceptar" cancelText="Cancelar" name="nivel_prioridad_upd"
                            [(ngModel)]="tareaAutomatica_upd.nivel_prioridad">
                            <ion-select-option value="muy alto">Muy importante</ion-select-option>
                            <ion-select-option value="alto">Importante</ion-select-option>
                            <ion-select-option value="medio">Normal</ion-select-option>
                            <ion-select-option value="bajo">Baja relevancia</ion-select-option>
                            <ion-select-option value="muy bajo">De poca relevancia</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-item>
                          <ion-icon shape="circle" name="hourglass-outline">
                          </ion-icon>
                          <ion-input required type="number" name="durEst_upd"
                            [(ngModel)]="tareaAutomatica_upd.duracion_estimada">
                          </ion-input>
                          <ion-select position="fixes" okText="Aceptar" cancelText="Cancelar" name="perAuto_upd"
                            [(ngModel)]="tareaAutomatica_upd.duracion_estimada_medida">
                            <ion-select-option value="minutos">Minutos</ion-select-option>
                            <ion-select-option value="horas">Horas</ion-select-option>
                            <ion-select-option value="dias">Días</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-item *ngIf="notificar">
                          <ion-icon shape="circle" name="notifications-circle-outline"></ion-icon>
                          <ion-input required type="number" name="antNotifAuto_upd"
                            [(ngModel)]="tareaAutomatica_upd.antelacion_notificacion">
                          </ion-input>
                          <ion-label position="fixed"> minutos antes </ion-label>
                        </ion-item>

                        <ion-item button (click)="cambiarConfigAuto_upd()" *ngIf="!configAuto_upd">
                          <ion-label color="primary">Mostrar más opciones</ion-label>
                        </ion-item>

                        <div *ngIf="configAuto_upd">
                          <ion-item>
                            <ion-label position="floating">Restricción de Inicio</ion-label>
                            <ion-datetime min="2000" max="2100" [(ngModel)]="periodoAuto_upd.inicio" done-text="Listo"
                              cancel-text="Cancelar"
                              dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                              displayFormat="DDD DD MMM YYYY" name="hasta_upd"
                              monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                            </ion-datetime>
                          </ion-item>

                          <ion-item>
                            <ion-label position="floating">Restricción de Finalización</ion-label>
                            <ion-datetime min="2000" max="2100" [(ngModel)]="periodoAuto_upd.final" done-text="Listo"
                              cancel-text="Cancelar"
                              dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                              displayFormat="DDD DD MMM YYYY" name="hasta_upd"
                              monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Set, Oct, Nov, Dic">
                            </ion-datetime>
                          </ion-item>

                          <ion-item>
                            <ion-label position="floating">Días Válidos</ion-label>
                            <ion-select okText="Aceptar" cancelText="Cancelar" name="nivel_dificultad_upd"
                              multiple="true" [(ngModel)]="restDias_upd">
                              <ion-select-option value="L">Lunes</ion-select-option>
                              <ion-select-option value="K">Martes</ion-select-option>
                              <ion-select-option value="M">Miércoles</ion-select-option>
                              <ion-select-option value="J">Jueves</ion-select-option>
                              <ion-select-option value="V">Viernes</ion-select-option>
                              <ion-select-option value="S">Sábado</ion-select-option>
                              <ion-select-option value="D">Domingo</ion-select-option>
                            </ion-select>
                          </ion-item>


                          <ion-item>
                            <ion-label position="floating">Horas Máximas por Día
                            </ion-label>
                            <ion-select okText="Aceptar" cancelText="Cancelar" name="max_horas_dia_upd"
                              [(ngModel)]="tareaAutomatica_upd.max_horas_dia">
                              <ion-select-option *ngFor="let hora of horas">{{hora}}</ion-select-option>
                            </ion-select>
                          </ion-item>

                          <ion-item>
                            <ion-label position="floating">Horas Mínimas por Día
                            </ion-label>
                            <ion-select okText="Aceptar" cancelText="Cancelar" name="min_horas_dia_upd"
                              [(ngModel)]="tareaAutomatica_upd.min_horas_dia">
                              <ion-select-option *ngFor="let hora of horas">{{hora}}</ion-select-option>
                            </ion-select>
                          </ion-item>

                          <ion-item button (click)="cambiarConfigAuto_upd()">
                            <ion-label color="primary">Mostrar menos opciones</ion-label>
                          </ion-item>
                        </div>

                      </ion-card-content>
                    </ion-card>

                  </ion-list>
                </ion-card>
              </form>

            </div>


          </div>
          <div class="modal-footer dark-theme" style="background-color: #1a1a1a !important;">

            <div style=" text-align: center">
              <ion-button shape="round" color="tertiary" (click)="borrarTarea()">Eliminar Tarea
              </ion-button> &nbsp;&nbsp;
              <ion-button shape="round" (click)="actualizarTarea()">Actualizar Tarea
              </ion-button>
            </div>

          </div>


        </ng-template>



      </div>
    </mat-tab>


    <mat-tab label="Nuevo Proyecto">

      <div>


        <form>
          <ion-card class="tarjeta" style="padding-left: 20px; padding-right: 20px;">
            <ion-card-header>
              <ion-title class="title" color="primary">Nuevo Proyecto</ion-title>
            </ion-card-header>

            <ion-list lines="full" class="ion-no-margin ion-no-padding">
              <ion-item>
                <ion-label position="floating">Nombre <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input required type="text" name="nombre_proyecto" [(ngModel)]="proyectoActual.nombre_proyecto">
                </ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Descripción </ion-label>
                <ion-textarea name="descripcion_proyecto" [(ngModel)]="proyectoActual.descripcion_proyecto">
                </ion-textarea>
              </ion-item>
            </ion-list>

            <div class="ion-padding" style=" text-align: center">
              <ion-button shape="round" (click)=" registrarProyecto()">Registrar Proyecto
              </ion-button>
            </div>
          </ion-card>
        </form>



      </div>

    </mat-tab>





    <mat-tab label="Nueva Actividad">

      <div>


        <form>
          <ion-card class="tarjeta" style="padding-left: 20px; padding-right: 20px;">
            <ion-card-header>
              <ion-title class="title" color="primary">Nueva Actividad</ion-title>
            </ion-card-header>

            <ion-list lines="full" class="ion-no-margin ion-no-padding">
              <ion-item>
                <ion-label position="floating">Título <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input required type="text" name="nombre_actividad" [(ngModel)]="actividadActual.nombre_actividad">
                </ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Descripción </ion-label>
                <ion-textarea name="descripcion_actividad" [(ngModel)]="actividadActual.descripcion_actividad">
                </ion-textarea>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Fecha de inicio</ion-label>
                <ion-datetime min="2000" max="2100" [(ngModel)]="actividad_aux.fechaInicio" done-text="Listo"
                  cancel-text="Cancelar" dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                  displayFormat="DDD DD MMM YYYY" name="hastecda"
                  monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                </ion-datetime>
              </ion-item>


              <ion-item>
                <ion-label position="floating">Fecha de finalización</ion-label>
                <ion-datetime min="2000" max="2100" [(ngModel)]="actividad_aux.fechaFinal" done-text="Listo"
                  cancel-text="Cancelar" dayShortNames="Domingo,Lunes,Martes,Miércoles,Jueves,Viernes,Sábado"
                  displayFormat="DDD DD MMM YYYY" name="hastaeefw"
                  monthShortNames="Ene, Feb, Mar, Abr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dec">
                </ion-datetime>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Proyecto</ion-label>
                <ion-select class="alertWTF" okText="Aceptar" cancelText="Cancelar" name="proyecto"
                  [(ngModel)]="actividad_aux.proyecto">
                  <ion-select-option *ngFor="let proy of proyectos">{{proy.nombre_proyecto}}</ion-select-option>
                </ion-select>
              </ion-item>

            </ion-list>
            <div class="ion-padding" style=" text-align: center">
              <ion-button shape="round" (click)=" registrarActividad()">Registrar Actividad
              </ion-button>
            </div>
          </ion-card>
        </form>



      </div>

    </mat-tab>
    <mat-tab label="Agregar Personas">

      <ion-card class="tarjeta">
        <ion-card-header>
          <mat-select class="especial" [(ngModel)]="proyectoEscogido" (selectionChange)="getPersonal()">
            <mat-option *ngFor="let proy of proyectos" [value]="proy.nombre_proyecto">
              {{proy.nombre_proyecto}}
            </mat-option>
          </mat-select>

        </ion-card-header>

        <ion-card-content>


          <ion-card class="tarjeta2">
            <ion-card-header>

              <ion-title class="colorChachi2"> Desarrolladores </ion-title>

            </ion-card-header>

            <ion-card-content>

              <ion-card>
                <ion-card-header>

                  <ion-label style="color: white;">Nuevo desarrollador para
                    <ion-label color="primary" style=" text-transform: capitalize;">{{proyectoEscogido}}</ion-label>
                  </ion-label>
                </ion-card-header>

                <ion-card-content>

                  <ion-item>
                    <ion-label position="floating">Correo Electrónico</ion-label>

                    <ion-input required type="text" name="correoDes" [(ngModel)]="correoDes">
                    </ion-input>

                  </ion-item>


                  <ion-button shape="round" (click)="agregarDesarrollador()">
                    <ion-icon shape="circle" name="add-outline"></ion-icon>
                    <ion-label> Agregar </ion-label>
                  </ion-button>

                </ion-card-content>
              </ion-card>



              <div>
                <ion-list *ngFor="let des of desarrolladores; index as i">
                  <ion-card>
                    <ion-card-header>
                    </ion-card-header>

                    <ion-card-content>
                      <ion-item>
                        <ion-label> {{des}} </ion-label>
                        <ion-button shape="round" (click)="borrarDesarrollador(i)">
                          <ion-icon shape="circle" slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-item>

                    </ion-card-content>



                  </ion-card>


                </ion-list>
              </div>
              <ion-card *ngIf="desarrolladores.length == 0">
                <ion-card-header>
                  <ion-label style="color: white;"> No hay desarrolladores para
                    <ion-label color="primary" style=" text-transform: capitalize;">{{proyectoEscogido}}</ion-label>
                  </ion-label>
                </ion-card-header>
              </ion-card>








            </ion-card-content>

          </ion-card>




          <ion-card class="tarjeta2">
            <ion-card-header>

              <ion-title class="colorChachi2"> Interesados </ion-title>

            </ion-card-header>

            <ion-card-content>

              <ion-card>
                <ion-card-header>

                  <ion-label style="color: white;">Nuevo interesado para
                    <ion-label color="primary" style=" text-transform: capitalize;">{{proyectoEscogido}}</ion-label>
                  </ion-label>
                </ion-card-header>

                <ion-card-content>

                  <ion-item>
                    <ion-label position="floating">Correo Electrónico</ion-label>

                    <ion-input required type="text" name="correoInt" [(ngModel)]="correoInt">
                    </ion-input>

                  </ion-item>


                  <ion-button shape="round" (click)="agregarInteresado()">
                    <ion-icon shape="circle" name="add-outline"></ion-icon>
                    <ion-label> Agregar </ion-label>
                  </ion-button>

                </ion-card-content>
              </ion-card>



              <div>
                <ion-list *ngFor="let inte of interesados; index as i">
                  <ion-card>
                    <ion-card-header>

                    </ion-card-header>

                    <ion-card-content>
                      <ion-item>
                        <ion-label> {{inte}} </ion-label>
                        <ion-button shape="round" (click)="borrarInteresado(i)">
                          <ion-icon shape="circle" slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-item>

                    </ion-card-content>



                  </ion-card>


                </ion-list>
              </div>
              <ion-card *ngIf="interesados.length == 0">
                <ion-card-header>
                  <ion-label style="color: white;"> No hay interesados para
                    <ion-label color="primary" style=" text-transform: capitalize;">{{proyectoEscogido}}</ion-label>
                  </ion-label>
                </ion-card-header>
              </ion-card>








            </ion-card-content>

          </ion-card>


        </ion-card-content>
      </ion-card>


    </mat-tab>





    <mat-tab label="Etiquetas">

      <ion-card class="tarjeta">
        <ion-card-header>
          <ion-title class="title" color="primary"> Etiquetas </ion-title>
        </ion-card-header>

        <ion-card-content>


          <ion-card class="tarjeta2">
            <ion-card-header>


              <ion-title class="titulo"> Nueva Etiqueta </ion-title>

            </ion-card-header>

            <ion-card-content style=" text-align: center">

              <ion-list lines="full" class="ion-no-margin ion-no-padding">
                <ion-item>
                  <ion-label position="floating">Nombre <ion-text color="danger">*</ion-text>
                  </ion-label>
                  <ion-input required type="text" name="nombre_tarea" [(ngModel)]="etiqueta.nombre_etiqueta">
                  </ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Color </ion-label>

                  <ion-input type="color" name="colorXD" [(ngModel)]="etiqueta.color">
                  </ion-input>
                </ion-item>

                <ion-item>
                  <ion-chip>
                    <ion-icon name="bookmark" style="color: {{etiqueta.color}}"></ion-icon>
                    <ion-label style="color: {{etiqueta.color}}">{{etiqueta.nombre_etiqueta}}</ion-label>
                    <ion-icon (click)="borrarEtiqueta(i)" name="close-circle" style="color: {{etiqueta.color}}">
                    </ion-icon>
                  </ion-chip>


                </ion-item>


              </ion-list>
              <br />

              <br />
              <ion-button (click)="agregarEtiqueta()"> Agregar Etiqueta</ion-button>


            </ion-card-content>

          </ion-card>

          <ion-card class="tarjeta2">
            <ion-card-header>


              <ion-title class="titulo"> Etiquetas Guardadas </ion-title>

            </ion-card-header>

            <ion-card-content>


              <div>
                <ion-list *ngFor="let et of etiquetas; index as i">

                  <ion-chip>
                    <ion-icon name="bookmark" style="color: {{et.color}}"></ion-icon>
                    <ion-label style="color: {{et.color}}">{{et.nombre_etiqueta}}</ion-label>
                    <ion-icon (click)="borrarEtiqueta(i)" name="close-circle" style="color: {{et.color}}"></ion-icon>
                  </ion-chip>


                </ion-list>
              </div>


              <ion-card *ngIf="etiquetas.length == 0">
                <ion-card-header>
                  <ion-label style="color: white;"> No hay etiquetas registradas
                  </ion-label>
                </ion-card-header>
              </ion-card>


            </ion-card-content>

          </ion-card>


        </ion-card-content>

      </ion-card>

    </mat-tab>

  </mat-tab-group>
</ion-content>




<!--
<ion-tabs>

  <ion-tab tab="music">
    <ion-header translucent>
      <ion-toolbar>
        <ion-title>Music</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content fullscreen class="ion-padding">
      <h1>Musi1c</h1>
    </ion-content>
  </ion-tab>

  <ion-tab tab="movies">
    <ion-header translucent>
      <ion-toolbar>
        <ion-title>Movies</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content fullscreen class="ion-padding">
      <h1>Movies</h1>
    </ion-content>
  </ion-tab>

  <ion-tab tab="games">
    <ion-header translucent>
      <ion-toolbar>
        <ion-title>Games</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content fullscreen class="ion-padding">
      <h1>Games</h1>
    </ion-content>
  </ion-tab>

  <ion-tab-bar slot="bottom">
    <ion-tab-button tab="music">
      <ion-label>Music</ion-label>
      <ion-icon name="musical-note"></ion-icon>
    </ion-tab-button>
    <ion-tab-button tab="movies">
      <ion-label>Movies</ion-label>
      <ion-icon name="videocam"></ion-icon>
    </ion-tab-button>
    <ion-tab-button tab="games">
      <ion-label>Games</ion-label>
      <ion-icon name="game-controller"></ion-icon>
    </ion-tab-button>
  </ion-tab-bar>
</ion-tabs>


-->